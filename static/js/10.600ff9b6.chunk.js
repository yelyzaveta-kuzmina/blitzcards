(this.webpackJsonpblitzcards=this.webpackJsonpblitzcards||[]).push([[10],{368:function(e,t,n){e.exports={timer:"styles_timer__3TG5Q"}},369:function(e,t,n){e.exports={playingCard:"styles_playingCard__3qd2j",gradientAnimation:"styles_gradientAnimation__3OdAF"}},370:function(e,t,n){e.exports={gameWindowWrapper:"styles_gameWindowWrapper__1hfHl",timerWrapper:"styles_timerWrapper__1BO37","roll-in-left":"styles_roll-in-left__37m97",resultsWrapper:"styles_resultsWrapper__TRtVO",playArea:"styles_playArea__ys8M4",wordToTranslate:"styles_wordToTranslate__b8dWA",next:"styles_next__1ej57",progress:"styles_progress__2XOEu"}},371:function(e,t,n){e.exports={wrapper:"styles_wrapper__hb5gT",caret:"styles_caret__2DURi",blink:"styles_blink__1-Tfm",cell:"styles_cell__23SWI"}},373:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(7),l=n(19),i=n(20),o=n(21),u=n(368),f=n.n(u),d=function(){var e=Object(r.useState)(0),t=Object(a.a)(e,2),n=t[0],s=t[1];return Object(r.useEffect)((function(){var e=setInterval((function(){s((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}})),c.a.createElement("div",{className:f.a.timer},function(e){var t=Math.floor(e/60),n=Math.floor(e%60);return String(t).padStart(2,"0")+":"+String(n).padStart(2,"0")}(n))},m=n(369),p=n.n(m),g=function(e){var t=e.children,n=e.className;return c.a.createElement("div",{className:p.a.playingCard},c.a.createElement("div",{className:n},t))},_=n(69),b=n(77),y=function(e){var t=e.onClick,n=e.className;return c.a.createElement(_.a,{className:n,onClick:t,icon:b.b})},v=n(370),O=n.n(v),j=n(371),E=n.n(j),h=8,w=39,W=37,N=function(e){var t=Array.from(e.parentElement.querySelectorAll("input")),n=t.findIndex((function(t){return t===e})),a=t[n+1];a&&a.focus()},S=function(e){var t=Array.from(e.parentElement.querySelectorAll("input")),n=t.findIndex((function(t){return t===e})),a=t[n-1];a&&a.focus()},x=function(e,t){if(e&&t){var n=t.getBoundingClientRect(),a=n.x,r=(n.width,a-t.parentElement.getBoundingClientRect().x+2);e.style.transform="translateX(".concat(r,"px)")}},C=function(e){var t=e.word,n=e.onChange,s=Object(r.useState)(""),l=Object(a.a)(s,2),i=l[0],o=l[1],u=Object(r.useState)(""),f=Object(a.a)(u,2),d=f[0],m=f[1],p=Object(r.useRef)();Object(r.useEffect)((function(){var e=t.translation.replace(/\w/g,"*"),n=p.current.nextSibling;n&&n.focus(),o(e),m(e)}),[t]);var g=function(e,t){return m((function(n){return n.slice(0,t)+e+n.slice(t+1)}))},_=function(e){return g("*",e)};Object(r.useLayoutEffect)((function(){x(p.current,document.querySelector("input:focus"))}),[]),Object(r.useEffect)((function(){n(d)}),[d,n]);return c.a.createElement("div",{className:E.a.wrapper},c.a.createElement("div",{ref:p,className:E.a.caret},"\u2665"),Array.from(i,(function(e,t){if("*"===e){var n="*"===d[t]?"":d[t];return c.a.createElement("input",{readOnly:!0,key:t,className:E.a.cell,autoFocus:0===t,value:n,onFocus:function(e){x(p.current,e.target)},onKeyPress:function(e){var n=String.fromCharCode(e.charCode);console.log(n,t),g(n,t),N(e.target)},onKeyUp:function(e){return n=e.target,a=e.which,r=t,a===h&&("*"===d[r]&&r>0&&_(r-1),_(r),S(n)),a===w&&N(n),void(a===W&&S(n));var n,a,r}})}return c.a.createElement("span",{key:t,className:E.a.cell},e)})))};t.default=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],u=t[1],f=function(){var e=Object(l.b)().languages,t=Object(i.b)().categories,n=Object(o.b)().words,c=Object(s.g)().params,u=c.sourceLanguage,f=c.targetLanguage,d=c.category,m=e.find((function(e){return e.sourceLanguage===u&&e.targetLanguage===f})),p=t.find((function(e){return e.name===d&&e.languageId===m.id})),g=n.filter((function(e){return e.categoryId===p.id})),_=Object(r.useState)(!1),b=Object(a.a)(_,2),y=b[0],v=b[1],O=Object(r.useState)(0),j=Object(a.a)(O,2),E=j[0],h=j[1],w=Object(r.useState)(0),W=Object(a.a)(w,2),N=W[0],S=W[1],x=g[E],C=Object(r.useCallback)((function(){E<g.length-1?h(E+1):v(!0)}),[E,g]),k=Object(r.useCallback)((function(e){console.log(e);var t=e===x.translation;console.log(t),e===x.translation&&S((function(e){return e+1})),C()}),[x,C]);return{filteredWords:g,currentWordIndex:E,word:x,check:k,next:C,points:N,isGameFinished:y}}(),m=f.filteredWords,p=f.currentWordIndex,_=f.word,b=f.isGameFinished,v=f.check,j=f.points;if(b)return"Game finished!";return c.a.createElement("div",{className:O.a.gameWindowWrapper},c.a.createElement("div",{className:O.a.timerWrapper},c.a.createElement(d,null)),c.a.createElement("div",{className:O.a.resultsWrapper},"points: ",j),c.a.createElement("div",{className:O.a.playArea},c.a.createElement(g,{className:O.a.wordToTranslate},_.word),c.a.createElement(g,null,c.a.createElement(C,{word:_,onChange:u}))),c.a.createElement(y,{className:O.a.next,onClick:function(){return function(e){v(e),u("")}(n)}}),c.a.createElement("div",{className:O.a.progress},p+1,"/",m.length))}}}]);
//# sourceMappingURL=10.600ff9b6.chunk.js.map